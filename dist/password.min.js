/**
 * @author Ã’scar Casajuana a.k.a. elboletaire <elboletaire at underave dot net>
 * @link https://github.com/elboletaire/password-strength-meter
 * @license GPL-3.0
 *
 * @version 2.2.0
 */
!function(d){"use strict";function t(n,l){var i="";function c(e,t){for(var s="",r=!1,a=0;a<t.length;a++){for(var r=!0,o=0;o<e&&o+a+e<t.length;o++)r=r&&t.charAt(o+a)===t.charAt(o+a+e);(r=o<e?!1:r)?(a+=e-1,r=!1):s+=t.charAt(a)}return s}function h(e,t){var s;return l.useColorBarImage?e.css({backgroundPosition:"0px -"+t+"px",width:t+"%"}):(s=function(e){var t=0,s=240,r=0,a=240,o=10;Object.prototype.hasOwnProperty.call(l.customColorBarRGB,"red")&&(t=l.customColorBarRGB.red[0],s=l.customColorBarRGB.red[1]),Object.prototype.hasOwnProperty.call(l.customColorBarRGB,"green")&&(r=l.customColorBarRGB.green[0],a=l.customColorBarRGB.green[1]),Object.prototype.hasOwnProperty.call(l.customColorBarRGB,"blue")&&(o=l.customColorBarRGB.blue);var n=e*a/50;return{red:Math.min(Math.max(2*s-e*s/50,t),s),green:Math.min(Math.max(n,r),a),blue:o}}(t),e.css({"background-image":"none","background-color":"rgb("+s.red.toString()+", "+s.green.toString()+", "+s.blue.toString()+")",width:t+"%"})),e}return l=d.extend({},{enterPass:"Type your password",shortPass:"The password is too short",containsField:"The password contains your name",notAllowed:"The password contains a commonly used word",steps:{13:"Really insecure password",33:"Weak; try combining letters & numbers",67:"Medium; try using special characters",94:"Strong password"},showPercent:!1,showText:!0,animate:!0,animateSpeed:"fast",fields:!1,fieldsPartialMatch:!0,contains:[],appendContainsMatch:!1,minimumLength:4,closestSelector:"div",useColorBarImage:!1,customColorBarRGB:{red:[0,240],green:[0,240],blue:10}},l),function(){var e=!0,r=l.showText,a=l.showPercent,t=d("<div>").addClass("pass-graybar"),o=d("<div>").addClass("pass-colorbar"),s=d("<div>").addClass("pass-wrapper").append(t.append(o));return n.closest(l.closestSelector).addClass("pass-strength-visible"),l.animate&&(s.css("display","none"),e=!1,n.closest(l.closestSelector).removeClass("pass-strength-visible")),l.showPercent&&(a=d("<span>").addClass("pass-percent").text("0%"),s.append(a)),l.showText&&(r=d("<span>").addClass("pass-text").html(l.enterPass),s.append(r)),n.closest(l.closestSelector).append(s),n.keyup(function(){var e,t=l.fields||l.field||"";t&&(s=d(t),e=[],s.each(function(){d(this).val()&&e.push(d(this).val().toLowerCase())}));t=function(e,t){var s=0;if(e.length<l.minimumLength)return-1;if(l.fields||l.field){if(t.includes(e.toLowerCase()))return-2;if((l.fieldsPartialMatch||l.fieldPartialMatch)&&t.length)for(var r of t)if(e.toLowerCase().includes(r))return i=": "+r,-2}if(1<=l.contains.length)for(var a of l.contains)if(e.toLowerCase().includes(a.toLowerCase()))return i=": "+a,-3;return s+=4*e.length,s+=c(1,e).length-e.length,s+=c(2,e).length-e.length,s+=c(3,e).length-e.length,s+=c(4,e).length-e.length,e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(s+=5),t=new RegExp("(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])"),e.match(t)&&(s+=5),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(s+=10),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(s+=15),e.match(/([!@#$%^&*?_~])/)&&e.match(/([0-9])/)&&(s+=15),e.match(/([!@#$%^&*?_~])/)&&e.match(/([a-zA-Z])/)&&(s+=15),(e.match(/^\w+$/)||e.match(/^\d+$/))&&(s-=10),s=(s=100<s?100:s)<0?0:s}(n.val(),e);n.trigger("password.score",[t]);var s=t<0?0:t;o=h(o,s),l.showPercent&&a.html(s+"%"),l.showText&&(s=function(e){if(-1===e)return l.shortPass;if(-2===e)return l.containsField;if(-3===e)return l.appendContainsMatch?l.notAllowed+i:l.notAllowed;e=e<0?0:e;var t,s=l.shortPass,r=Object.keys(l.steps).sort();for(t in r){var a=r[t];a<e&&(s=l.steps[a])}return s}(t),!n.val().length&&t<=0&&(s=l.enterPass),r.html()!==d("<div>").html(s).html()&&(r.html(s),n.trigger("password.text",[s,t])))}),l.animate&&(n.focus(function(){e||s.slideDown(l.animateSpeed,function(){e=!0,n.closest(l.closestSelector).addClass("pass-strength-visible")})}),n.blur(function(){!n.val().length&&e&&s.slideUp(l.animateSpeed,function(){e=!1,n.closest(l.closestSelector).removeClass("pass-strength-visible")})})),this}.call(this)}d.fn.password=function(e){return this.each(function(){new t(d(this),e)})}}(jQuery);